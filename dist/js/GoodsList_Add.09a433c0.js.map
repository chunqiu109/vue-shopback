{"version":3,"sources":["webpack:///./src/components/goods/Add.vue?a503","webpack:///./src/components/goods/Goods.vue?420c","webpack:///src/components/goods/Goods.vue","webpack:///./src/components/goods/Goods.vue?e1dd","webpack:///./src/components/goods/Goods.vue","webpack:///./src/components/goods/Add.vue?b77f","webpack:///src/components/goods/Add.vue","webpack:///./src/components/goods/Add.vue?c6eb","webpack:///./src/components/goods/Add.vue","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","queryGoodsList","model","value","queryInfo","callback","$$v","$set","expression","slot","goAdd","goodsList","scopedSlots","_u","key","fn","scope","_s","_f","row","add_time","$event","showEditDialog","goods_id","removGoodById","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","staticRenderFns","component","active","ref","addForm","addFormRules","tabPosition","beforeTabLeave","tabClicked","catelist","cateProps","handleChange","_l","item","i","attr_name","cb","cb1","attr_id","headerObj","uploadURL","handlePreview","handleRemove","handleSuccess","add","previewVisible","previewPath","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","String","REPLACE","nativeReplace","maybeCallNative","searchValue","replaceValue","O","replacer","call","regexp","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","push","matchStr","accumulatedResult","nextSourcePosition","length","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","$","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments"],"mappings":"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","file":"js/GoodsList_Add.09a433c0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=0d371a9f&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=0d371a9f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.queryGoodsList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.queryGoodsList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAdd}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"商品名称\",\"prop\":\"goods_name\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"商品价格（元）\",\"prop\":\"goods_price\",\"width\":\"110px\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"商品重量\",\"prop\":\"goods_weight\",\"width\":\"70px\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建时间\",\"prop\":\"add_time\",\"width\":\"140px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.add_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.goods_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removGoodById(scope.row.goods_id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-size\":_vm.queryInfo.pagesize,\"page-sizes\":[1, 2, 5, 10],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.queryInfo, \"pagenum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.queryInfo, \"pagenum\", $event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  面包屑导航区域  -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--  卡片区域  -->\r\n    <el-card class=\"box-card\">\r\n      <!--  这个是el中的分栏间隔组件，row代表行，col代表所在行的每一列（类似于tr,td）\r\n        gutter属性表示每列之间的间隔，span属性代表每列本身的宽度-->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <!--    el-input中只有使用v-model双向绑定属性之后输入框才可用\r\n                clearable属性表示输入框可清空\r\n                clear事件：点击输入框中的清空叉号的时候触发，以下的写法表示清空输入框的内容之后再次查询后台，然后显示没有条件查询所有数据\r\n                -->\r\n          <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"queryGoodsList\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"queryGoodsList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"goAdd\">添加商品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!--   商品列表区域   -->\r\n      <el-table :data=\"goodsList\" border stripe>\r\n        <el-table-column align=\"center\" type=\"index\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"商品名称\" prop=\"goods_name\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"商品价格（元）\" prop=\"goods_price\" width=\"110px\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"商品重量\" prop=\"goods_weight\" width=\"70px\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"创建时间\" prop=\"add_time\" width=\"140px\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.add_time | dateFormat}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"操作\" width=\"180px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.goods_id)\">编辑</el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removGoodById(scope.row.goods_id)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!--  分页区域    -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"queryInfo.pagenum\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        :page-sizes=\"[1, 2, 5, 10]\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        //获取商品列表参数对象\r\n        queryInfo: {\r\n          query: '',\r\n          //当前页数\r\n          pagenum: 1,\r\n          //每页显示数量\r\n          pagesize: 10\r\n        },\r\n        goodsList: [],\r\n        total: 0\r\n      }\r\n    },\r\n    created() {\r\n      this.queryGoodsList()\r\n    },\r\n    methods: {\r\n      async queryGoodsList() {\r\n        const { data: res } = await this.$http.get('goods', {\r\n          params: this.queryInfo\r\n        })\r\n\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('获取商品列表失败！')\r\n        }\r\n\r\n        this.$message.success('获取商品列表成功！')\r\n        console.log(res.data)\r\n        this.goodsList = res.data.goods\r\n        this.total = res.data.total\r\n      },\r\n      //监听每页显示数量事件，数据改变需要更新queryParam中的数据，再从新调用接口返回修改完页码的数据\r\n      handleSizeChange(newsize) {\r\n        this.queryInfo.pagesize = newsize\r\n        this.queryGoodsList()\r\n      },\r\n      //监听页码改变事件\r\n      handleCurrentChange(newnum) {\r\n        this.queryInfo.pagenum = newnum\r\n        this.queryGoodsList()\r\n      },\r\n      // 商品删除\r\n      async removGoodById(id) {\r\n        console.log(id)\r\n        const confirmResult = await this.$confirm(\r\n          '此操作将永久删除该商品，是否继续？',\r\n          '提示',\r\n          {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }\r\n        ).catch(err => err)\r\n        if (confirmResult !== 'confirm') {\r\n          return this.$message.info('已经取消删除！')\r\n        }\r\n\r\n        const { data: res } = await this.$http.delete(`goods/${id}`)\r\n\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('删除失败！')\r\n        }\r\n\r\n        this.$message.success('删除成功！')\r\n        this.queryGoodsList()\r\n      },\r\n      goAdd() {\r\n        this.$router.push('/goods/add')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=4ba353c8&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ba353c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"添加商品\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"添加商品信息\",\"type\":\"info\",\"closable\":false,\"center\":\"\",\"show-icon\":\"\"}}),_c('el-steps',{attrs:{\"space\":200,\"active\":_vm.active - 0,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"基本信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品属性\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-tabs',{attrs:{\"tab-position\":_vm.tabPosition,\"before-leave\":_vm.beforeTabLeave},on:{\"tab-click\":_vm.tabClicked},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"0\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称:\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.addForm.goods_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_name\", $$v)},expression:\"addForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_price),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_price\", $$v)},expression:\"addForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_weight\", $$v)},expression:\"addForm.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_number),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_number\", $$v)},expression:\"addForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"goods_cat\"}},[_c('el-cascader',{attrs:{\"expand-trigger\":\"hover\",\"options\":_vm.catelist,\"props\":_vm.cateProps},on:{\"change\":_vm.handleChange},model:{value:(_vm.addForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_cat\", $$v)},expression:\"addForm.goods_cat\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品参数\",\"name\":\"1\"}},_vm._l((_vm.manyTableData),function(item,i){return _c('el-form-item',{key:i,attrs:{\"label\":item.attr_name}},[_c('el-checkbox-group',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}},_vm._l((item.attr_vals),function(cb,cb1){return _c('el-checkbox',{key:cb1,attrs:{\"border\":\"\",\"size\":\"small\",\"label\":cb}})}),1)],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品属性\",\"name\":\"2\"}},_vm._l((_vm.onlyTableData),function(item,i){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-input',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品图片\",\"name\":\"3\"}},[_c('el-upload',{attrs:{\"headers\":_vm.headerObj,\"action\":_vm.uploadURL,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"list-type\":\"picture\",\"on-success\":_vm.handleSuccess}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品内容\",\"name\":\"4\"}},[_c('quill-editor',{model:{value:(_vm.addForm.goods_introduce),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_introduce\", $$v)},expression:\"addForm.goods_introduce\"}}),_c('el-button',{staticClass:\"btnAdd\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加商品\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"图片预览\",\"visible\":_vm.previewVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}},[_c('img',{staticClass:\"previewImg\",attrs:{\"src\":_vm.previewPath,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  面包屑导航区域  -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--  卡片区域  -->\r\n    <el-card>\r\n      <!--  警告信息    -->\r\n      <el-alert title=\"添加商品信息\" type=\"info\" :closable=\"false\" center show-icon></el-alert>\r\n\r\n      <!--   步骤条 active 默认激活第几步，从0 开始  -->\r\n      <el-steps :space=\"200\" :active=\"active - 0\" finish-status=\"success\" align-center>\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n      <!--      <el-button style=\"margin-top: 12px;\" @click=\"next\">下一步</el-button>-->\r\n\r\n      <!--   tab标签页\r\n         tab标签页和步骤条的联动效果\r\n         当tab标签页发生变化的时候，name属性也会发生变化，并将name的值绑定到v-model中，\r\n         而v-model中绑定的是active这个对象，也就是说name和active保持联动并且一致\r\n         在步骤条中active属性又和active对象绑定到了一起，也就是说name属性，active属性，active对象三者的值一起联动并保持一致\r\n         但是在步骤条中的active属性是数字类型，active对象是字符串，使用（String - number）= number的类型转化就可以实现了\r\n         这样就可以使三者的数值真正的保持一致并一起联动\r\n\r\n         before-leave切换标签之前的钩子，若返回 false 或者返回 Promise 且被 reject，则阻止切换。\r\n        -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\" label-position=\"top\">\r\n        <el-tabs v-model=\"active\" :tab-position=\"tabPosition\" :before-leave=\"beforeTabLeave\" @tab-click=\"tabClicked\">\r\n          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n            <el-form-item label=\"商品名称:\" prop=\"goods_name\">\r\n              <el-input v-model=\"addForm.goods_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n              <el-input v-model=\"addForm.goods_price\" type=\"number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n              <el-input v-model=\"addForm.goods_weight\" type=\"number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n              <el-input v-model=\"addForm.goods_number\" type=\"number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n              <el-cascader expand-trigger=\"hover\" :options=\"catelist\" :props=\"cateProps\" v-model=\"addForm.goods_cat\"\r\n                           @change=\"handleChange\">\r\n              </el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n            <!--      渲染表单的item项        -->\r\n            <el-form-item :label=\"item.attr_name\" v-for=\"(item, i) in manyTableData\" :key=\"i\">\r\n              <!--      复选框组      -->\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox border size=\"small\" :label=\"cb\" v-for=\"(cb, cb1) in item.attr_vals\" :key=\"cb1\"></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n            <!--      渲染表单的item项        -->\r\n            <el-form-item :label=\"item.attr_name\" v-for=\"(item, i) in onlyTableData\" :key=\"item.attr_id\">\r\n              <el-input v-model=\"item.attr_vals\"></el-input>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n            <!--     上传组件\r\n                   action表示图片要上传到的后台服务器地址\r\n                   list-type 表示图片显示的ui样式\r\n                   -->\r\n            <el-upload :headers=\"headerObj\" :action=\"uploadURL\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\" list-type=\"picture\" :on-success=\"handleSuccess\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n            <!-- 富文本编辑器组件 -->\r\n            <quill-editor v-model=\"addForm.goods_introduce\"></quill-editor>\r\n            <!-- 添加商品的按钮 -->\r\n            <el-button type=\"primary\" class=\"btnAdd\" @click=\"add\">添加商品</el-button>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <!-- 图片预览 -->\r\n    <el-dialog title=\"图片预览\" :visible.sync=\"previewVisible\" width=\"50%\">\r\n      <img :src=\"previewPath\" alt=\"\" class=\"previewImg\">\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import _ from 'lodash'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        active: '0',\r\n        tabPosition: 'left',\r\n\r\n        // 添加商品表单\r\n        addForm: {\r\n          goods_name: '',\r\n          goods_price: 0,\r\n          goods_weight: 0,\r\n          goods_number: 0,\r\n          // 商品所属的分类数组\r\n          goods_cat: [],\r\n          // 图片的数组\r\n          pics: [],\r\n          // 商品的详情描述\r\n          goods_introduce: '',\r\n          attrs: []\r\n        },\r\n        // 添加商品表单验证规则\r\n        addFormRules: {\r\n          goods_name: [\r\n            { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n          ],\r\n          goods_price: [\r\n            { required: true, message: '请输入商品价格', trigger: 'blur' }\r\n          ],\r\n          goods_weight: [\r\n            { required: true, message: '请输入商品重量', trigger: 'blur' }\r\n          ],\r\n          goods_number: [\r\n            { required: true, message: '请输入商品数量', trigger: 'blur' }\r\n          ],\r\n          goods_cat: [\r\n            { required: true, message: '请选择商品分类', trigger: 'blur' }\r\n          ]\r\n        },\r\n        // 商品分类列表\r\n        catelist: [],\r\n\r\n        // 指定级联选择器的配置对象\r\n        cateProps: {\r\n          value: 'cat_id',\r\n          label: 'cat_name',\r\n          children: 'children'\r\n        },\r\n        // 动态参数列表\r\n        manyTableData: [],\r\n        // 静态属性列表\r\n        onlyTableData: [],\r\n        // 上传图片的URL地址\r\n        uploadURL: 'http://localhost:8888/api/private/v1/upload',\r\n        headerObj: {\r\n          Authorization: window.sessionStorage.getItem('token')\r\n        },\r\n        previewPath: '',\r\n        previewVisible: false\r\n      }\r\n    },\r\n    created() {\r\n      this.getCateList()\r\n    },\r\n    methods: {\r\n      async getCateList() {\r\n        console.log('123')\r\n        const { data: result } = await this.$http.get('categories')\r\n        console.log(result)\r\n        if (result.meta.status !== 200) {\r\n          return this.$message.error('获取商品分类失败！')\r\n        }\r\n        this.catelist = result.data\r\n        console.log(this.catelist)\r\n      },\r\n      handleChange() {\r\n        if (this.addForm.goods_cat.length !== 3) {\r\n          this.addForm.goods_cat = []\r\n          return\r\n        }\r\n      },\r\n      // 标签页发生改变时触发此函数，activeName表示即将要切换的标签页的名字，oldActiveName表示切换之前的标签页的名字\r\n      beforeTabLeave(activeName, oldActiveName) {\r\n        if (oldActiveName === '0' && this.addForm.goods_cat.length !== 3) {\r\n          this.$message.error('请填写商品分类！')\r\n          return false\r\n        }\r\n      },\r\n      // tab标签页被点击时触发\r\n      async tabClicked() {\r\n        // 如果点击的是动态参数面板\r\n        if (this.active === '1') {\r\n          // 发送请求获取动态参数数据\r\n          const { data: result } = await this.$http.get(\r\n            `categories/${this.cateId}/attributes`,\r\n            {\r\n              params: { sel: 'many' }\r\n            }\r\n          )\r\n\r\n          if (result.meta.status !== 200) {\r\n            this.$message.error('获取动态参数列表失败')\r\n          }\r\n          result.data.forEach(item => {\r\n            item.attr_vals =\r\n              item.attr_vals.length === 0 ? [] : item.attr_vals.split(' ')\r\n          })\r\n          this.manyTableData = result.data\r\n          console.log(this.manyTableData)\r\n        } else if (this.active === '2') {\r\n          // 发送请求获取动态参数数据\r\n          const { data: result } = await this.$http.get(\r\n            `categories/${this.cateId}/attributes`,\r\n            {\r\n              params: { sel: 'only' }\r\n            }\r\n          )\r\n\r\n          if (result.meta.status !== 200) {\r\n            this.$message.error('获取静态属性列表失败')\r\n          }\r\n          this.onlyTableData = result.data\r\n          console.log(this.onlyTableData)\r\n        }\r\n      },\r\n\r\n      // 处理图片预览效果\r\n      handlePreview(file) {\r\n        const url = file.response.data.url.replace('127.0.0.1', 'localhost')\r\n        this.previewPath = url\r\n        console.log(this.previewPath)\r\n        this.previewVisible = true\r\n      },\r\n      // 处理移除图片的操作\r\n      handleRemove(file) {\r\n        // 获取需要移除图片的临时路径\r\n        const filePath = file.response.data.tmp_path\r\n        // 从表单的图片数组中找到要移除图片的索引 index表示数组中的每一项， 箭头后边表示的是满足的条件\r\n        const i = this.addForm.pics.findIndex(index => index.pic === filePath)\r\n        // 根据索引值将图片从数组中移除\r\n        this.addForm.pics.splice(i, 1)\r\n      },\r\n\r\n      // 上传图片成功之后触发的事件\r\n      handleSuccess(response) {\r\n        // 拼接一个图片对象\r\n        const picinfo = { pic: response.data.tmp_path }\r\n        // 将图片信息对象 push到pics数组中\r\n        this.addForm.pics.push(picinfo)\r\n        // console.log(this.addForm)\r\n      },\r\n      add() {\r\n        this.$refs.addFormRef.validate(async valid => {\r\n          if (!valid) {\r\n            return this.$message.error('请填写必要的表单项！')\r\n          }\r\n          // lodash 深拷贝，由于goods_cat绑定到级联选择器的v-model中，只允许为数组\r\n          // 所以拷贝一个一模一样的对象从重新赋值\r\n          const form = _.cloneDeep(this.addForm)\r\n          form.goods_cat = form.goods_cat.join(',')\r\n\r\n          // 处理动态参数\r\n          this.manyTableData.forEach(item => {\r\n            const newInfo = {\r\n              attr_id: item.attr_id,\r\n              attr_value: item.attr_vals.join(' ')\r\n            }\r\n            this.addForm.attrs.push(newInfo)\r\n          })\r\n          // 处理静态属性\r\n          this.onlyTableData.forEach(item => {\r\n            const newInfo = { attr_id: item.attr_id, attr_value: item.attr_vals }\r\n            this.addForm.attrs.push(newInfo)\r\n          })\r\n          form.attrs = this.addForm.attrs\r\n          console.log(form)\r\n\r\n          // 发起请求添加商品\r\n          // 商品的名称，必须是唯一的\r\n          const { data: res } = await this.$http.post('goods', form)\r\n\r\n          if (res.meta.status !== 201) {\r\n            return this.$message.error('添加商品失败！')\r\n          }\r\n\r\n          this.$message.success('添加商品成功！')\r\n          // 编程式导航跳转到商品列表页面\r\n          this.$router.push('/goods')\r\n        })\r\n      }\r\n    },\r\n    computed: {\r\n      cateId() {\r\n        if (this.addForm.goods_cat.length === 3) {\r\n          return this.addForm.goods_cat[2]\r\n        }\r\n        return null\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .el-checkbox {\r\n    margin: 0 10px 0 0 !important;\r\n  }\r\n  .btnAdd {\r\n    margin-top: 15px;\r\n  }\r\n  .previewImg {\r\n    width: 100%;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=0d371a9f&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=0d371a9f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d371a9f\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n"],"sourceRoot":""}